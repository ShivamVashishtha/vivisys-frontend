@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   Global base
   ============================================================ */

:root {
  color-scheme: light;
}

html,
body {
  height: 100%;
}

body {
  @apply bg-slate-50 text-slate-900 antialiased;
}

/* ============================================================
   Scrollbars (subtle, professional)
   ============================================================ */

*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
*::-webkit-scrollbar-thumb {
  background: rgba(15, 23, 42, 0.2);
  border-radius: 999px;
}
*::-webkit-scrollbar-track {
  background: transparent;
}

/* ============================================================
   Component system (healthcare-grade)
   ============================================================ */

@layer utilities {
  /* ---------- Cards ---------- */
  .card {
    @apply rounded-2xl border border-slate-200 bg-white shadow-sm;
  }

  .card-h {
    @apply px-5 py-4 border-b border-slate-100
           flex items-center justify-between gap-3;
  }

  .card-b {
    @apply p-5;
  }

  /* ---------- Buttons ---------- */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           rounded-xl px-4 py-2 text-sm font-medium
           transition-colors duration-150
           focus:outline-none focus:ring-4 focus:ring-slate-100;
  }

  .btn-primary {
    @apply btn bg-slate-900 text-white
           hover:bg-slate-800
           disabled:opacity-60 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply btn bg-slate-100 text-slate-900
           hover:bg-slate-200;
  }

  .btn-ghost {
    @apply btn border border-slate-200 bg-white
           hover:bg-slate-50;
  }

  .btn-danger {
    @apply btn bg-red-600 text-white
           hover:bg-red-700
           focus:ring-red-200;
  }

  /* ---------- Inputs ---------- */
  .input {
    @apply w-full rounded-xl border border-slate-200 bg-white
           px-3 py-2 text-sm
           outline-none transition
           focus:ring-4 focus:ring-slate-100
           focus:border-slate-300
           disabled:bg-slate-50 disabled:text-slate-400;
  }

  .label {
    @apply text-xs font-semibold tracking-wide text-slate-700;
  }

  /* ---------- Pills / badges ---------- */
  .pill {
    @apply inline-flex items-center gap-1
           rounded-full border border-slate-200
           bg-slate-50 px-2.5 py-1
           text-xs font-medium text-slate-700;
  }

  .pill-success {
    @apply pill bg-green-50 text-green-700 border-green-200;
  }

  .pill-warning {
    @apply pill bg-amber-50 text-amber-700 border-amber-200;
  }

  .pill-danger {
    @apply pill bg-red-50 text-red-700 border-red-200;
  }

  /* ---------- Tables (Consent / Records) ---------- */
  .table {
    @apply w-full border-collapse;
  }

  .table th {
    @apply text-left text-xs font-semibold uppercase tracking-wide
           text-slate-500 px-4 py-3 border-b border-slate-200;
  }

  .table td {
    @apply px-4 py-3 text-sm border-b border-slate-100;
  }

  .table tr:hover td {
    @apply bg-slate-50;
  }

  /* ---------- Section headers ---------- */
  .section-title {
    @apply text-lg font-semibold text-slate-900;
  }

  .section-subtitle {
    @apply text-sm text-slate-600;
  }

  /* ---------- Empty states ---------- */
  .empty {
    @apply rounded-xl border border-dashed border-slate-300
           bg-slate-50 px-6 py-8 text-center
           text-sm text-slate-600;
  }

  /* ---------- Callouts ---------- */
  .callout {
    @apply rounded-xl border border-slate-200
           bg-slate-50 px-4 py-3 text-sm text-slate-700;
  }

  .callout-info {
    @apply callout border-blue-200 bg-blue-50 text-blue-800;
  }

  .callout-success {
    @apply callout border-green-200 bg-green-50 text-green-800;
  }

  .callout-warning {
    @apply callout border-amber-200 bg-amber-50 text-amber-800;
  }

  /* ---------- Skeleton loaders ---------- */
  .skeleton {
    @apply animate-pulse rounded-md bg-slate-200;
  }

  /* ---------- Code / JSON blocks ---------- */
  .code {
    @apply rounded-xl border border-slate-200 bg-slate-900
           p-4 text-xs text-slate-100 overflow-x-auto;
  }

  /* ---------- Tooltips ---------- */
  .tip {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }

  .tip-icon {
    width: 18px;
    height: 18px;
    border-radius: 999px;
    border: 1px solid rgba(15, 23, 42, 0.12);
    background: rgba(15, 23, 42, 0.03);
    color: rgba(15, 23, 42, 0.75);
    font-size: 12px;
    line-height: 18px;
    font-weight: 700;
    display: inline-flex;
    justify-content: center;
    cursor: help;
    user-select: none;
  }

  .tip[data-tip]::after {
    content: attr(data-tip);
    position: absolute;
    left: 0;
    top: calc(100% + 10px);
    z-index: 50;

    width: min(360px, 80vw);
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(15, 23, 42, 0.12);
    background: rgba(15, 23, 42, 0.95);
    color: white;

    font-size: 12px;
    line-height: 1.35;
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.18);

    opacity: 0;
    transform: translateY(-4px);
    pointer-events: none;
    transition: opacity 140ms ease, transform 140ms ease;
  }

  .tip[data-tip]:hover::after {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Reduce motion support */
@media (prefers-reduced-motion: reduce) {
  .tip[data-tip]::after {
    transition: none;
  }
}

/* ---------- Subtle motion ---------- */
.fade-in {
  opacity: 0;
  transform: translateY(6px);
  animation: fadeInUp 180ms ease-out forwards;
}

.slide-in {
  opacity: 0;
  transform: translateX(8px);
  animation: slideIn 180ms ease-out forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .fade-in,
  .slide-in {
    animation: none;
    opacity: 1;
    transform: none;
  }
}

/* ============================================================
   Page transitions (global)
   ============================================================ */

.page-transition {
  animation: pageFadeIn 220ms ease-out;
}

@keyframes pageFadeIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .page-transition {
    animation: none;
  }
}

